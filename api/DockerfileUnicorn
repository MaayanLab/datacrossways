FROM tiangolo/meinheld-gunicorn-flask:python3.8-alpine3.11

RUN apk update && apk add vim curl git

RUN apk --no-cache add python3-dev \
        gcc \
        libc-dev \
        libffi-dev \
        openssl-dev \
        musl-dev

RUN pip install --upgrade pip
RUN pip install install cffi

RUN git clone https://github.com/MaayanLab/datacrossways_api.git
COPY ./datacrossways_api /app

RUN pip install --no-cache-dir --upgrade -r /app/requirements.txt
